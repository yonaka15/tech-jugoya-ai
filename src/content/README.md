# コンテンツ管理

このディレクトリには、tech.jugoya.ai のコンテンツデータが含まれています。

## ディレクトリ構造

```
content/
├── blog/                   # ブログ関連のその他のデータ
├── posts/                  # 記事データ（JSON形式）
│   ├── single-post.json   # 単一ファイル記事 (非推奨)
│   └── multi-part-post/   # 分割された記事
│       ├── index.json     # メタ情報とブロックの順序
│       ├── content/        # 記事内容のJSON
│       │   ├── intro.json  # 導入部のブロック
│       │   └── main.json   # 本文のブロック
└── LICENSE                # CC BY-NC-ND 4.0ライセンス
```

## 記事データの構造

記事は複数のファイルに分割して管理できます。

### ファイル命名規則

- ファイル/ディレクトリ名は URL スラッグとして使用されます
- 小文字の英数字とハイフンのみを使用してください
- 推奨フォーマット: `YYYY-MM-DD-article-slug`
  - 日付を含めることで、記事の時系列管理が容易になります
  - URL でも日付が分かり、コンテンツの鮮度を読者が判断できます
- 例:
  - 単一ファイル: `2024-01-15-getting-started-with-nextjs.json`
  - 分割ファイル: `2024-01-15-getting-started-with-nextjs/index.json`

### 分割ファイル形式

長い記事は複数のファイルに分割して管理できます。この場合、`index.json`にメタ情報とブロックの順序を定義し、各パートの内容は別ファイルに記述します。レベル 2 の見出し（`##`相当）は`index.json`に記述することを推奨します：

```json
// index.json - メタ情報とブロックの順序
{
  "meta": {
    "title": "長い記事のタイトル",
    "description": "記事の説明",
    "publishedAt": "2024-01-01T00:00:00.000Z",
    "tags": ["Next.js", "TypeScript"]
  },
  "blocks": [
    {
      "id": "intro-heading",
      "type": "heading",
      "props": {
        "level": 2,
        "content": "はじめに",
        "align": "left"
      }
    },
    {
      "id": "intro",
      "type": "blocks",
      "props": {},
      "source": "content/introduction.json"
    },
    {
      "id": "main-heading",
      "type": "heading",
      "props": {
        "level": 2,
        "content": "本編",
        "align": "left"
      }
    },
    {
      "id": "main",
      "type": "blocks",
      "props": {},
      "source": "content/main.json"
    }
  ]
}

// content/introduction.json - 各パートのブロック
{
  "blocks": [
    {
      "id": "intro-text",
      "type": "text",
      "props": {
        "content": "導入部の本文...",
        "align": "left"
      }
    }
  ]
}
```

レベル 2 の見出しを`index.json`に記述することで：

- 記事の主要な構造が一目で把握できる
- 目次の生成が容易になる
- 記事構造の一貫性が保たれる

より詳細な見出し（レベル 3 以下）は、必要に応じて各パートファイル内に記述することもできます。

### メタデータフィールド

| フィールド  | 必須 | 説明                                 |
| ----------- | ---- | ------------------------------------ |
| title       | ✅   | 記事のタイトル（100 文字以内）       |
| description | ✅   | 記事の説明文（SEO 用、200 文字以内） |
| publishedAt | ✅   | 公開日時（ISO 8601 形式）            |
| tags        | ✅   | タグの配列（1 つ以上必須）           |
| author      | -    | 著者情報（オプション）               |

### タグの命名規則

技術スタックとカテゴリー、両方のタグを英語で記述します：

1. 技術スタック

   - 正式名称をそのまま使用（例: "Next.js", "TypeScript", "Python"）
   - 大文字小文字は正式な表記に従う

2. カテゴリータグ
   - すべて英語で記述
   - 複数単語の場合はスペースで区切る（例: "Web Development", "Best Practice"）
   - 先頭の単語を大文字にする

例:

```json
{
  "tags": [
    "Next.js", // 技術スタック（正式名称）
    "TypeScript", // 技術スタック（正式名称）
    "Web Development", // カテゴリー
    "Frontend", // カテゴリー
    "Tutorial" // カテゴリー
  ]
}
```

推奨されるカテゴリータグ:

- "m3u8"
- "ffmpeg"
- "safetensors"

## 記事の作成ガイドライン

### 記述スタイル

本文の記述は、箇条書きや Callout の多用を避け、説明的な文章形式を基本とします：

- **文章による説明**:
  単なる項目の列挙ではなく、それぞれの要素がどのように関連し、なぜ重要なのかを説明的に記述します。これにより、読者は文脈を理解しやすくなります。

- **段落の構成**:
  関連する情報をまとめて段落を構成し、各段落は明確なトピックを持つようにします。段落間のつながりを意識し、自然な流れを作ります。

- **Callout の使用**:
  Callout ブロックは、本当に重要な警告や注意事項のみに限定して使用します。通常の説明は本文中に組み込みます。

- **箇条書きの使用**:
  箇条書きは、手順や具体的な選択肢を示す場合など、本当に必要な場合のみに限定します。可能な限り、文章の中で自然に情報を伝えることを心がけます。

例:

```
// 避けるべき記述
Reactの特徴:
- コンポーネントベース
- 仮想DOM
- JSX記法
- 単方向データフロー

// 推奨される記述
Reactは、コンポーネントベースのアーキテクチャを採用しているJavaScriptライブラリです。
UI要素を再利用可能なコンポーネントとして設計することで、開発効率と保守性を高めています。
仮想DOMを採用することで、効率的なレンダリングを実現し、パフォーマンスを最適化しています。
また、JSX記法を使用することで、HTMLライクな直感的な記述が可能になり、
UI構造の理解や開発がしやすくなっています。さらに、単方向データフローの採用により、
アプリケーションの状態管理が予測可能で追跡しやすいものとなっています。
```

### コードブロックの記述

コードブロックを含める場合は、以下の点に注意します：

1. 適切な文脈提供

   - コードの前後で、そのコードが何を行うのか、なぜその実装が選ばれたのかを説明
   - 重要な部分には具体的な説明を追加

2. 実用的なコード例

   - 実際の使用シーンを想定したコード
   - エラーハンドリングなど、実践的な要素を含める
   - コメントで重要なポイントを説明

3. 行の強調（highlight）
   - 見づらくなるので使用は非推奨
   - 強調する行は、説明している機能や概念に直接関連する場合のみに限定
   - 強調する行数は必要最小限に抑える
   - 強調する理由が本文で明確に説明されていることを確認

例:

```json
{
  "id": "code-example",
  "type": "code",
  "props": {
    "language": "typescript",
    "fileName": "example.ts",
    "code": "try {\n  // データの取得と処理\n  const data = await fetchData();\n  const result = processData(data);\n  \n  // 結果の保存\n  await saveResult(result);\n} catch (error) {\n  // エラーログの記録\n  logger.error('データ処理中にエラーが発生:', error);\n  // ユーザーへの通知\n  notifyUser('データの処理に失敗しました');\n}",
    "highlight": [] // 特に強調する行がない場合は空にする
  }
}
```

## 記事の構造設計

### index.json の設計原則

記事の`index.json`は以下の原則に従って設計します：

1. **自己文書化**:

   - index.json を読むだけで記事の全体像が理解できるようにする
   - 各セクションの前に`text`型のブロックで説明を追加
   - 関連情報（ADR など）へのリンクを含める
   - 重要な背景情報や前提知識を明記

2. **構造の明確化**:

   - 見出しには具体的な内容を含める
     - ❌ 「はじめに」
     - ✅ 「はじめに：プロジェクトの背景と目的」
   - サブタイトルで主要なポイントを示す
   - セクション間の関係性を説明

3. **メタデータの充実**:
   - タイトルは検索やナビゲーションに適した具体的な形に
   - 説明文は記事の価値提案を明確に
   - タグは適切な粒度で、関連記事の発見を助ける

### テンプレート例

```json
{
  "meta": {
    "title": "具体的で検索しやすいタイトル：主題と副題",
    "description": "記事の価値提案を含む明確な説明。読者が得られる知見や解決できる課題を具体的に示す。",
    "tags": ["主要な技術", "トピック", "カテゴリー"],
    "author": {
      "name": "著者名",
      "avatar": "/images/avatars/author.png"
    }
  },
  "blocks": [
    {
      "id": "overview-text",
      "type": "text",
      "props": {
        "content": "記事全体の概要。背景、目的、得られる知見を簡潔に説明。"
      }
    },
    {
      "id": "section1-heading",
      "type": "heading",
      "props": {
        "level": 2,
        "content": "1. セクション：具体的な内容",
        "align": "left"
      }
    },
    {
      "id": "section1-summary",
      "type": "text",
      "props": {
        "content": "このセクションの目的と重要性。参考資料や関連情報へのリンクを含める。"
      }
    },
    {
      "id": "section1-content",
      "type": "blocks",
      "props": {},
      "source": "section1.json"
    }
  ]
}
```

### セクション設計の考え方

1. **段階的な情報開示**:

   - 概要から詳細へ
   - 背景から実装へ
   - 理論から実践へ

2. **参照情報の適切な配置**:

   - 関連する技術やドキュメントへのリンク
   - 参考にしたリソースの明示
   - 実装の背景となる決定（ADR など）への参照

3. **読者の視点**:
   - 必要な前提知識の明示
   - 期待される学習成果の提示
   - 実践的な応用例の提供

## 画像の管理

- 記事関連の画像は`public/images/blog/[記事のスラッグ]/`に配置
- 画像ファイル名は英数字とハイフンのみを使用
- 推奨する画像形式:
  - 写真: JPEG
  - スクリーンショット: PNG
  - アイコン・図: SVG
- 画像の最大サイズ:
  - 幅: 1200px
  - ファイルサイズ: 500KB

## 参照情報

### 参照リンクの記述方法

本文中での参照リンクは以下の形式で記述します：

`[リンクのタイトル](https://example.com)` のように文中に記述します。

技術的な説明や仕様に関する記述を行う際は、その客観性を担保するために、参照した情報源の URL を記載してください。あまりにも一般的なプログラミングの解説や、コードの書き方の説明には必要ありません。

## ライセンス

このディレクトリ内のすべてのコンテンツは [CC BY-NC-ND 4.0](./LICENSE) ライセンスの下で提供されています。

- ✅ 記事の閲覧・共有可能
- ✅ 非商用目的での使用可能
- ❌ 商用利用禁止
- ❌ 改変禁止
- ℹ️ 著作権表示が必要

